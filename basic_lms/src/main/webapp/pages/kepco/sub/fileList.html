<html lang="ko" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorate="~{|${siteLayoutPath}|}"
	>
<th:block layout:fragment="content">

<link rel="stylesheet" href="/assets/css/board.css"><!-- 게시판css -->

<style>
.regist_tabs { display: inline-block;  margin: 0 auto; margin-bottom: 30px;  width: 100%; }
.regist_tabs ul {max-width: 1500px;text-align: center;/* border-top: 2px solid #e3e3e3; */position: relative;margin: 0 auto;}
.regist_tabs ul a {color: #838383;cursor: pointer;width: calc(100% / 2);float: left;border: 1px solid #2a2a2a;height: 64px;text-align: center;line-height: 61px;transition: .25s ease-in-out;border-right: 0;font-weight: 600;}
.regist_tabs ul a:last-child{border-right: 1px solid #2a2a2a;}
.regist_tabs ul a.current {border-top: 3px solid #2b64f9;color: #fff;}
   
.traning_current_situation_list_wrap .edu_detail dl dd a.cancel_btn{
	padding: 4px 10px 4px 8px;
    margin-left: 8px;
    text-align: center;
    border-radius: 3px;
    background: #dd2d2d;
}
.traning_current_situation_list_wrap .list_info_box.result_box .result_point p.app-state{font-size: 36px;}
.my_edu_btn {
    display: inline-flex;
    width: auto;
    height: 24px;
    border-radius: 4px;
    background-color: #323232;
    justify-content: center;
    align-items: center;
    margin-left: 20px;
    color: #fff;
    padding: 0 20px;
    border: 0;
    font-size: 15px;
}


.bo_study_file_list_wrap {display: block; width: 100%; height: auto;}
.bo_study_file_list_wrap > ul {display: flex; width: 100%; height: auto; flex-wrap: wrap;}
.bo_study_file_list_wrap > ul > li {flex: 0 1 auto; display: block; width: calc(100% / 4 - 15px); height: auto; margin-left: 20px; position: relative; margin-bottom: 20px;}
.bo_study_file_list_wrap > ul > li:nth-child(4n+1) {margin-left: 0;}
.bo_study_file_list_wrap > ul > li::before,
.bo_study_file_list_wrap > ul > li::after {content: ''; display: block; position: absolute; left: 50%; top: 50%; filter: blur(50px); border-radius: 50%; opacity: 0; transition: all 0.35s ease;}
.bo_study_file_list_wrap > ul > li::before {width: 160px; height: 200px; background-color: #713eef; transform: translate(-15%,-50%); z-index: -1; animation: file_box_rotate_ani_left 3s linear infinite forwards;}
.bo_study_file_list_wrap > ul > li::after {width: 160px; height: 180px; background-color: #2b64f9; transform: translate(-85%,-50%); z-index: -1; animation: file_box_rotate_ani_right 2s linear infinite forwards;}
.bo_study_file_list_wrap > ul > li:hover::before,
.bo_study_file_list_wrap > ul > li:hover::after {opacity: 1;}
.bo_study_file_list_wrap .file_box {display: block; width: 100%; height: auto; padding: 20px; background-color: #fefefe; color: #212121; transition: all 0.35s ease; border-radius: 10px; z-index: 3;}
.bo_study_file_list_wrap .file_box:hover,
.bo_study_file_list_wrap .file_box:active {border-radius: 0; background-color: #fff;}
.bo_study_file_list_wrap .file_box .title_box {display: flex; width: 100%; height: auto; align-items: center; font-size: 20px; font-weight: bold; color: #212121; margin-bottom: 20px;}
.bo_study_file_list_wrap .file_box .tit_name {flex: 1; display: flex; font-size: 20px; font-weight: bold; color: #212121;}
.bo_study_file_list_wrap .file_box .sticker {flex: 0 1 auto; display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; background-color: #666; border-radius: 50%; ; margin-right: 20px; color: #fff; transition: all 0.45s ease;}
.bo_study_file_list_wrap .file_box:hover .sticker,
.bo_study_file_list_wrap .file_box:active .sticker {background-color: #713eef; filter: drop-shadow(0 4px 10px rgba(100,0,255,0.3));}
.bo_study_file_list_wrap .file_box .file_name {width: 100%; height: auto; font-size: 16px; font-weight: 400; color: #666;}
.bo_study_file_list_wrap .file_box:hover .file_name,
.bo_study_file_list_wrap .file_box:active .file_name {color: #26272c;}
.bo_study_file_list_wrap .file_box .download {display: flex; justify-content: center; align-items: center; width: auto; height: auto; font-size:18px; font-weight: bold; padding: 10px 20px; border-radius: 100px; background-color: #333; color: #fff; margin-top: 20px; transition: all 0.35s ease;}
.bo_study_file_list_wrap .file_box .download i {margin-right: 10px;}
.bo_study_file_list_wrap .file_box .download:hover,
.bo_study_file_list_wrap .file_box .download:active {background-color: #2b64f9; border-radius: 0;}


@keyframes file_box_rotate_ani_left {
	0% {transform: translate(-15%,-50%) rotate(0);}
	100% {transform: translate(-15%,-50%) rotate(360deg);}
}
@keyframes file_box_rotate_ani_right {
	0% {transform: translate(-85%,-50%) rotate(0);}
	100% {transform: translate(-85%,-50%) rotate(360deg);}
}

@media screen and (max-width: 1300px){
	.traning_current_situation_list_wrap .list_info_box.result_box .result_point p.app-state{font-size: 24px;}
}
@media screen and (max-width: 1200px) {
	.bo_study_file_list_wrap > ul > li {width: calc(100% / 3 - 14px);}
	.bo_study_file_list_wrap > ul > li:nth-child(4n+1) {margin-left: 20px;}
	.bo_study_file_list_wrap > ul > li:nth-child(3n+1) {margin-left: 0;}
}
@media screen and (max-width: 1000px) {
	.bo_study_file_list_wrap > ul > li {width: calc(100% / 2 - 10px);}
	.bo_study_file_list_wrap > ul > li:nth-child(3n+1) {margin-left: 20px;}
	.bo_study_file_list_wrap > ul > li:nth-child(2n+1) {margin-left: 0;}
}
@media screen and (max-width: 800px){
	.traning_current_situation_list_wrap .list_info_box.result_box .result_point p.app-state{font-size: 20px;}
}
@media screen and (max-width: 700px) {
	.bo_study_file_list_wrap > ul > li {width: 100%; margin-left: 0;}
	.bo_study_file_list_wrap > ul > li:nth-child(4n+1) {margin-left: 0;}
	.bo_study_file_list_wrap > ul > li:nth-child(3n+1) {margin-left: 0;}
	.bo_study_file_list_wrap > ul > li:nth-child(2n+1) {margin-left: 0;}
}
@media screen and (max-width: 500px){
	.traning_current_situation_list_wrap .list_info_box.result_box .result_point p.app-state{font-size: 18px;}
	.bo_study_file_list_wrap .file_box .tit_name {font-size: 16px;}
	.bo_study_file_list_wrap .file_box .sticker {width: 40px; height: 40px; font-size: 14px;}
	.bo_study_file_list_wrap .file_box .download {font-size: 16px;}
}


</style>

<script th:inline="javascript">

	function page(i){
		if(i == null){ i = 1;}
		$("#pageNum").val(i);
		$("#search_form").submit();
	}
	
	
	var list = [];
	var target = $('#data');
	
	$(function() {
	 
		
		$.ajax({
	         url: "/lms/edu/fileList",
	         type: 'GET',
	         dataType: 'html',
	     }).done(function (data) {
	    	 //console.log(JSON.parse(data).data.list);
	    	 
	    	 for (i = 0; i < JSON.parse(data).data.list.length; i++) {
  				//console.log(JSON.parse(data).data.list[i].trainTitle);
  				list.push({'idx': JSON.parse(data).data.list[i].detailIdx,'gubun': 'edu','title':JSON.parse(data).data.list[i].trainTitle, 'file':JSON.parse(data).data.list[i].eduFile1});
	    	 }
	    	 
	    	 list.sort((a, b) => {
				  let a_name = a.title,
				      b_name = b.title;
	
				  if (a_name < b_name) {
				      return -1;
				  }
				  if (a_name > b_name) {
				      return 1;
				  }
				  return 0;
			});
	    	 
	     }).fail(function () {
	         alert('네트워크 또는 시스템 장애입니다.');
	     });

	setTimeout(function() {
		$.ajax({
	         url: "/lms/vod/fileList",
	         type: 'GET',
	         dataType: 'html',
	     }).done(function (data) {
			//console.log(JSON.parse(data).data.list);
	    	 
	    	 for (i = 0; i < JSON.parse(data).data.list.length; i++) {
  				//console.log(JSON.parse(data).data.list[i].vodTitle);
  				list.push({'idx': JSON.parse(data).data.list[i].vodIdx,'gubun': 'vod','title':JSON.parse(data).data.list[i].vodTitle,'file':JSON.parse(data).data.list[i].vodFile});
	    	 }
	    	 
	    	 list.sort((a, b) => {
				  let a_name = a.title,
				      b_name = b.title;
	
				  if (a_name < b_name) {
				      return -1;
				  }
				  if (a_name > b_name) {
				      return 1;
				  }
				  return 0;
			});
	    	 
    		var str = "";
    		var gubun = "";
    		var file = "";
    		$.each(list, function(i){
    			if(list[i].file != null){
    				if(list[i].gubun == 'edu') {
    					gubun = `<i class="fa-solid fa-vr-cardboard"></i>`; 
						// <img alt='첨부파일 있음' src='/assets/img/icon_file.png'>
    					file = `<a class="download" href='/lms/edu/download?detailIdx=${list[i].idx}&file=eduFile1' target='_blank'><i class="fa-solid fa-file-arrow-down"></i>DOWNLOAD</a>`;
    				}
    				if(list[i].gubun == 'vod') {
    					gubun = `<i class="fa-solid fa-video"></i>`; 
    					file = `<a class="download" href="/lms/vod/download?vodIdx=${list[i].idx}&file=vodFile" target="_blank"><i class="fa-solid fa-file-arrow-down"></i>DOWNLOAD</a>`;
    				}
	                // str += "<TR>"
	                // str += '<TD>' + gubun + '</TD><TD class="left">' + list[i].title + '</TD><TD>' + file + '</TD>'
	                // str += '</TR>'
					str += `
					<li>
						<div class="file_box">
							<span class="title_box">
								<span class="sticker">${gubun}</span>
								<span class=tit_name ellipsis">${list[i].title}</span>		
							</span>
							<span class="file_name ellipsis">파일명.pdf</span>
							${file}
						</div>
					</li>
					`;
    			}
            });
            $("#data").append(str);
	    	 
	     }).fail(function () {
	         alert('네트워크 또는 시스템 장애입니다.');
	     });
	}, 100);
	    
	});
	 
</script>
	
	<div class="sub-container">
		<div class="bo_study_file_list_wrap">
			<ul id="data">
			</ul>
		</div>
	</div>
</body>
</html>
